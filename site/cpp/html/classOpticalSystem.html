<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OptiSim: OpticalSystem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OptiSim
   </div>
   <div id="projectbrief">Geometrical Optics Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classOpticalSystem-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">OpticalSystem Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages a collection of optical elements and simulates ray propagation.  
 <a href="classOpticalSystem.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for OpticalSystem:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem__coll__graph.png" border="0" usemap="#aOpticalSystem_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abac240d76d861ee77846c187d7836956" id="r_abac240d76d861ee77846c187d7836956"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#abac240d76d861ee77846c187d7836956">OpticalSystem</a> ()</td></tr>
<tr class="memdesc:abac240d76d861ee77846c187d7836956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new, empty <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a>.  <br /></td></tr>
<tr class="separator:abac240d76d861ee77846c187d7836956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f88a3c7ef96026d36dba71768e5a89" id="r_a69f88a3c7ef96026d36dba71768e5a89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a69f88a3c7ef96026d36dba71768e5a89">OpticalSystem</a> (string)</td></tr>
<tr class="memdesc:a69f88a3c7ef96026d36dba71768e5a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a> by loading its configuration from a json file.  <br /></td></tr>
<tr class="separator:a69f88a3c7ef96026d36dba71768e5a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6db07d9e1f87f8e806754e82ade380e" id="r_ae6db07d9e1f87f8e806754e82ade380e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a> (<a class="el" href="classOpticalObject.html">OpticalObject</a> &amp;, string)</td></tr>
<tr class="memdesc:ae6db07d9e1f87f8e806754e82ade380e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> to the system.  <br /></td></tr>
<tr class="separator:ae6db07d9e1f87f8e806754e82ade380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f287f30315ff0c317832aa7de85b957" id="r_a3f287f30315ff0c317832aa7de85b957"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a3f287f30315ff0c317832aa7de85b957">add</a> (<a class="el" href="classLightSource.html">LightSource</a>)</td></tr>
<tr class="memdesc:a3f287f30315ff0c317832aa7de85b957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> to the system.  <br /></td></tr>
<tr class="separator:a3f287f30315ff0c317832aa7de85b957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91bbf09f3112a23f03655a6755a4d01d" id="r_a91bbf09f3112a23f03655a6755a4d01d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a91bbf09f3112a23f03655a6755a4d01d">remove</a> (string)</td></tr>
<tr class="memdesc:a91bbf09f3112a23f03655a6755a4d01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an optical object from the system by its name.  <br /></td></tr>
<tr class="separator:a91bbf09f3112a23f03655a6755a4d01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a82e2d49467164f4b45301dd29912c" id="r_a59a82e2d49467164f4b45301dd29912c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a59a82e2d49467164f4b45301dd29912c">modifyLightSource</a> (string, double)</td></tr>
<tr class="memdesc:a59a82e2d49467164f4b45301dd29912c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies a property of the existing <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a>.  <br /></td></tr>
<tr class="separator:a59a82e2d49467164f4b45301dd29912c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2305f7a60f669b2a058f5e6ea8565186" id="r_a2305f7a60f669b2a058f5e6ea8565186"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a2305f7a60f669b2a058f5e6ea8565186">modifyOpticalObject</a> (string, string, double)</td></tr>
<tr class="memdesc:a2305f7a60f669b2a058f5e6ea8565186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies a property of an existing <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> by its name.  <br /></td></tr>
<tr class="separator:a2305f7a60f669b2a058f5e6ea8565186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a12e61ebbbb656507d8dd379f99f85e" id="r_a8a12e61ebbbb656507d8dd379f99f85e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a8a12e61ebbbb656507d8dd379f99f85e">toString</a> (ostream &amp;os=cout)</td></tr>
<tr class="memdesc:a8a12e61ebbbb656507d8dd379f99f85e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a string representation of the optical system to an output stream.  <br /></td></tr>
<tr class="separator:a8a12e61ebbbb656507d8dd379f99f85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd5b63cca2a07cd0de55802e210f343" id="r_a0dd5b63cca2a07cd0de55802e210f343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a0dd5b63cca2a07cd0de55802e210f343">save</a> (string)</td></tr>
<tr class="memdesc:a0dd5b63cca2a07cd0de55802e210f343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current configuration of the optical system to a file.  <br /></td></tr>
<tr class="separator:a0dd5b63cca2a07cd0de55802e210f343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a7b9c8b8f54f7e402debc7b8c00790" id="r_ad4a7b9c8b8f54f7e402debc7b8c00790"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classImage.html">Image</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#ad4a7b9c8b8f54f7e402debc7b8c00790">getImageSequence</a> ()</td></tr>
<tr class="memdesc:ad4a7b9c8b8f54f7e402debc7b8c00790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the sequence of images formed by the optical objects.  <br /></td></tr>
<tr class="separator:ad4a7b9c8b8f54f7e402debc7b8c00790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa0b305c32eda9071c974bcf5413597" id="r_abfa0b305c32eda9071c974bcf5413597"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classImage.html">Image</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#abfa0b305c32eda9071c974bcf5413597">Calculate</a> ()</td></tr>
<tr class="memdesc:abfa0b305c32eda9071c974bcf5413597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the final image formed by the entire optical system.  <br /></td></tr>
<tr class="separator:abfa0b305c32eda9071c974bcf5413597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a650c19d0fc03114999586f42ba6275ae" id="r_a650c19d0fc03114999586f42ba6275ae"><td class="memItemLeft" align="right" valign="top">map&lt; string, <a class="el" href="structray.html">ray</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a650c19d0fc03114999586f42ba6275ae">getRays</a> ()</td></tr>
<tr class="memdesc:a650c19d0fc03114999586f42ba6275ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the stored ray coordinates for visualization.  <br /></td></tr>
<tr class="separator:a650c19d0fc03114999586f42ba6275ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae816a770d4ba9db4ac7da99f77465d35" id="r_ae816a770d4ba9db4ac7da99f77465d35"><td class="memItemLeft" align="right" valign="top">map&lt; string, <a class="el" href="classOpticalObject.html">OpticalObject</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#ae816a770d4ba9db4ac7da99f77465d35">getSystemElements</a> ()</td></tr>
<tr class="memdesc:ae816a770d4ba9db4ac7da99f77465d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a map of all optical elements in the system.  <br /></td></tr>
<tr class="separator:ae816a770d4ba9db4ac7da99f77465d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40a4866741c613a08867fd425e91e8a" id="r_ac40a4866741c613a08867fd425e91e8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLightSource.html">LightSource</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#ac40a4866741c613a08867fd425e91e8a">getLightSource</a> ()</td></tr>
<tr class="memdesc:ac40a4866741c613a08867fd425e91e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> currently set in the system.  <br /></td></tr>
<tr class="separator:ac40a4866741c613a08867fd425e91e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c777ee9792b8705e8f9d9a926cd7f22" id="r_a3c777ee9792b8705e8f9d9a926cd7f22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a3c777ee9792b8705e8f9d9a926cd7f22">~OpticalSystem</a> ()</td></tr>
<tr class="memdesc:a3c777ee9792b8705e8f9d9a926cd7f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a> object.  <br /></td></tr>
<tr class="separator:a3c777ee9792b8705e8f9d9a926cd7f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad2f214db0296fb9db5e828ea9b29231a" id="r_ad2f214db0296fb9db5e828ea9b29231a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#ad2f214db0296fb9db5e828ea9b29231a">NextRayCoords</a> (<a class="el" href="classOpticalObject.html">OpticalObject</a> *, <a class="el" href="classImage.html">Image</a>, string)</td></tr>
<tr class="memdesc:ad2f214db0296fb9db5e828ea9b29231a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and stores the next ray coordinates after interaction with an optical object.  <br /></td></tr>
<tr class="separator:ad2f214db0296fb9db5e828ea9b29231a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aae97ecb01648ef4aa14b483682b34f6d" id="r_aae97ecb01648ef4aa14b483682b34f6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLightSource.html">LightSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a></td></tr>
<tr class="memdesc:aae97ecb01648ef4aa14b483682b34f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> illuminating the system.  <br /></td></tr>
<tr class="separator:aae97ecb01648ef4aa14b483682b34f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab09c6404530e81a6b2cfc232e0939b" id="r_aeab09c6404530e81a6b2cfc232e0939b"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="classImage.html">Image</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a></td></tr>
<tr class="memdesc:aeab09c6404530e81a6b2cfc232e0939b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A sequence of <a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a> objects, representing the image formed by each optical object in order.  <br /></td></tr>
<tr class="separator:aeab09c6404530e81a6b2cfc232e0939b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9ff2e98b17e8364009c9fc0e1172b6" id="r_a4a9ff2e98b17e8364009c9fc0e1172b6"><td class="memItemLeft" align="right" valign="top">map&lt; string, <a class="el" href="classOpticalObject.html">OpticalObject</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a></td></tr>
<tr class="memdesc:a4a9ff2e98b17e8364009c9fc0e1172b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map associating string names with pointers to <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> instances.  <br /></td></tr>
<tr class="separator:a4a9ff2e98b17e8364009c9fc0e1172b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3452dd947dadd7817d15e43fca3ba351" id="r_a3452dd947dadd7817d15e43fca3ba351"><td class="memItemLeft" align="right" valign="top">vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a></td></tr>
<tr class="memdesc:a3452dd947dadd7817d15e43fca3ba351"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector storing the names of optical objects in the order they appear in the system.  <br /></td></tr>
<tr class="separator:a3452dd947dadd7817d15e43fca3ba351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f328a71ed2a58887b5bf6c654302a8" id="r_aa4f328a71ed2a58887b5bf6c654302a8"><td class="memItemLeft" align="right" valign="top">map&lt; string, <a class="el" href="structray.html">ray</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a></td></tr>
<tr class="memdesc:aa4f328a71ed2a58887b5bf6c654302a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map storing ray coordinate data, keyed by the name of the optical object.  <br /></td></tr>
<tr class="separator:aa4f328a71ed2a58887b5bf6c654302a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages a collection of optical elements and simulates ray propagation. </p>
<p>This class allows for the creation, modification, and simulation of an optical system. It holds a light source, a sequence of images formed, and a mapping of named optical objects (like lenses) in a specific order. It can calculate the final image and trace rays. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00047">47</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abac240d76d861ee77846c187d7836956" name="abac240d76d861ee77846c187d7836956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac240d76d861ee77846c187d7836956">&#9670;&#160;</a></span>OpticalSystem() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpticalSystem::OpticalSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new, empty <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a>. </p>
<p>This default constructor initializes the <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> pointer to <code>nullptr</code>, indicating no light source is currently part of the system. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00026">26</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>                            {</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   28</span>};</div>
<div class="ttc" id="aclassOpticalSystem_html_aae97ecb01648ef4aa14b483682b34f6d"><div class="ttname"><a href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">OpticalSystem::LS</a></div><div class="ttdeci">LightSource * LS</div><div class="ttdoc">Pointer to the LightSource illuminating the system.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8h_source.html#l00054">OpticalSystem.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69f88a3c7ef96026d36dba71768e5a89" name="a69f88a3c7ef96026d36dba71768e5a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f88a3c7ef96026d36dba71768e5a89">&#9670;&#160;</a></span>OpticalSystem() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpticalSystem::OpticalSystem </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a> by loading its configuration from a json file. </p>
<p>This constructor loads the optical system configuration from a specified JSON file. It reads the light source and various lens types (thin or thick) and adds them to the system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>The path to the JSON configuration file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If the file cannot be opened, or if there's a JSON parsing error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00036">36</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>                                            {</div>
<div class="line"><span class="lineno">   37</span>    <span class="comment">// Read datafrom .json file</span></div>
<div class="line"><span class="lineno">   38</span>    ifstream file(file_name);</div>
<div class="line"><span class="lineno">   39</span>    </div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span> (!file.is_open()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \t Failed to open file: &quot;</span>+file_name);</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_typedef" href="OpticalSystem_8cpp.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a> data;</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   44</span>        file &gt;&gt; data;</div>
<div class="line"><span class="lineno">   45</span>    } <span class="keywordflow">catch</span> (json::parse_error&amp; e) {</div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tJSON parse error: &quot;</span> + <span class="keywordtype">string</span>(e.what()));</div>
<div class="line"><span class="lineno">   47</span>    }</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">// Extract information</span></div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">// Object info</span></div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_class" href="classLightSource.html">LightSource</a> light_source_readout(data[<span class="stringliteral">&quot;object&quot;</span>][<span class="stringliteral">&quot;position&quot;</span>],</div>
<div class="line"><span class="lineno">   52</span>                                     data[<span class="stringliteral">&quot;object&quot;</span>][<span class="stringliteral">&quot;size&quot;</span>]);</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_function" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a>(light_source_readout);</div>
<div class="line"><span class="lineno">   54</span>    </div>
<div class="line"><span class="lineno">   55</span>    </div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; lens : data[<span class="stringliteral">&quot;lenses&quot;</span>]) {</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordtype">string</span> type = lens.value(<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;thin&quot;</span>);</div>
<div class="line"><span class="lineno">   58</span>        </div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;thin&quot;</span>) {</div>
<div class="line"><span class="lineno">   61</span>            <a class="code hl_class" href="classThinLens.html">ThinLens</a> thinl = <a class="code hl_class" href="classThinLens.html">ThinLens</a>(lens[<span class="stringliteral">&quot;position&quot;</span>], lens[<span class="stringliteral">&quot;focal_length&quot;</span>]);</div>
<div class="line"><span class="lineno">   62</span>            <a class="code hl_function" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a>(thinl, lens[<span class="stringliteral">&quot;name&quot;</span>]);</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;thick&quot;</span>) {</div>
<div class="line"><span class="lineno">   65</span>            <a class="code hl_class" href="classThickLens.html">ThickLens</a> thickl = <a class="code hl_class" href="classThickLens.html">ThickLens</a>(lens[<span class="stringliteral">&quot;position&quot;</span>],</div>
<div class="line"><span class="lineno">   66</span>                              lens[<span class="stringliteral">&quot;refractive_index&quot;</span>],</div>
<div class="line"><span class="lineno">   67</span>                              lens[<span class="stringliteral">&quot;thickness&quot;</span>],</div>
<div class="line"><span class="lineno">   68</span>                              lens[<span class="stringliteral">&quot;radius_left&quot;</span>],</div>
<div class="line"><span class="lineno">   69</span>                              lens[<span class="stringliteral">&quot;radius_right&quot;</span>]);</div>
<div class="line"><span class="lineno">   70</span>            <a class="code hl_function" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a>(thickl, lens[<span class="stringliteral">&quot;name&quot;</span>]);</div>
<div class="line"><span class="lineno">   71</span>        }</div>
<div class="line"><span class="lineno">   72</span>    }   </div>
<div class="line"><span class="lineno">   73</span>};</div>
<div class="ttc" id="aOpticalSystem_8cpp_html_ab701e3ac61a85b337ec5c1abaad6742d"><div class="ttname"><a href="OpticalSystem_8cpp.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a></div><div class="ttdeci">nlohmann::json json</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8cpp_source.html#l00019">OpticalSystem.cpp:19</a></div></div>
<div class="ttc" id="aclassLightSource_html"><div class="ttname"><a href="classLightSource.html">LightSource</a></div><div class="ttdoc">Represents a light source within an optical system.</div><div class="ttdef"><b>Definition</b> <a href="LightSource_8h_source.html#l00021">LightSource.h:21</a></div></div>
<div class="ttc" id="aclassOptiSimError_html"><div class="ttname"><a href="classOptiSimError.html">OptiSimError</a></div><div class="ttdoc">Custom exception class for handling errors within the OptiSim library.</div><div class="ttdef"><b>Definition</b> <a href="OptiSimError_8h_source.html#l00025">OptiSimError.h:25</a></div></div>
<div class="ttc" id="aclassOpticalSystem_html_ae6db07d9e1f87f8e806754e82ade380e"><div class="ttname"><a href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">OpticalSystem::add</a></div><div class="ttdeci">void add(OpticalObject &amp;, string)</div><div class="ttdoc">Adds an OpticalObject to the system.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8cpp_source.html#l00085">OpticalSystem.cpp:85</a></div></div>
<div class="ttc" id="aclassThickLens_html"><div class="ttname"><a href="classThickLens.html">ThickLens</a></div><div class="ttdoc">Represents a thick lens in an optical system.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8h_source.html#l00023">ThickLens.h:23</a></div></div>
<div class="ttc" id="aclassThinLens_html"><div class="ttname"><a href="classThinLens.html">ThinLens</a></div><div class="ttdoc">Represents an idealized thin lens in an optical system.</div><div class="ttdef"><b>Definition</b> <a href="ThinLens_8h_source.html#l00023">ThinLens.h:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a69f88a3c7ef96026d36dba71768e5a89_cgraph.png" border="0" usemap="#aclassOpticalSystem_a69f88a3c7ef96026d36dba71768e5a89_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a3c777ee9792b8705e8f9d9a926cd7f22" name="a3c777ee9792b8705e8f9d9a926cd7f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c777ee9792b8705e8f9d9a926cd7f22">&#9670;&#160;</a></span>~OpticalSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpticalSystem::~OpticalSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a> object. </p>
<p>This destructor is responsible for cleaning up dynamically allocated memory. It iterates through the <code>name_lens_map</code> to <code>delete</code> all <code><a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a></code> pointers and also <code>delete</code>s the <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> pointer. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00383">383</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                             {</div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size(); i++){</div>
<div class="line"><span class="lineno">  385</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]];</div>
<div class="line"><span class="lineno">  386</span>    }</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.clear();</div>
<div class="line"><span class="lineno">  388</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>;</div>
<div class="line"><span class="lineno">  389</span>}</div>
<div class="ttc" id="aclassOpticalSystem_html_a3452dd947dadd7817d15e43fca3ba351"><div class="ttname"><a href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">OpticalSystem::order</a></div><div class="ttdeci">vector&lt; string &gt; order</div><div class="ttdoc">A vector storing the names of optical objects in the order they appear in the system.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8h_source.html#l00072">OpticalSystem.h:72</a></div></div>
<div class="ttc" id="aclassOpticalSystem_html_a4a9ff2e98b17e8364009c9fc0e1172b6"><div class="ttname"><a href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">OpticalSystem::name_lens_map</a></div><div class="ttdeci">map&lt; string, OpticalObject * &gt; name_lens_map</div><div class="ttdoc">A map associating string names with pointers to OpticalObject instances.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8h_source.html#l00066">OpticalSystem.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3f287f30315ff0c317832aa7de85b957" name="a3f287f30315ff0c317832aa7de85b957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f287f30315ff0c317832aa7de85b957">&#9670;&#160;</a></span>add() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLightSource.html">LightSource</a>&#160;</td>
          <td class="paramname"><em>ls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> to the system. </p>
<dl class="section note"><dt>Note</dt><dd>If a <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> already exists, it will be replaced.</dd></dl>
<p>This method adds a <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> to the optical system. If a light source already exists, it is replaced. It checks for minimum distance constraints with existing optical objects. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ls</td><td>The <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> object to be added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If the <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> is too close to an existing optical object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00146">146</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  146</span>                                     {</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordtype">int</span> size = <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size();</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span>(size != 0){</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++){</div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">if</span>(abs(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]-&gt;getX() - ls.<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>()) &lt; 0.001) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tThe Light Source and the &quot;</span> + <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i] + </div>
<div class="line"><span class="lineno">  151</span>            <span class="stringliteral">&quot;are too close together. The minimum distance must be at least 0.001 mm&quot;</span>);</div>
<div class="line"><span class="lineno">  152</span>        }</div>
<div class="line"><span class="lineno">  153</span>    }</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> = <span class="keyword">new</span> <a class="code hl_class" href="classLightSource.html">LightSource</a>(ls.<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>(), ls.<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="aclassImagingSubject_html_a6c8e7f51ee35d067883389e9197af1c3"><div class="ttname"><a href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">ImagingSubject::getX</a></div><div class="ttdeci">double getX()</div><div class="ttdoc">Retrieves the x-coordinate of the imaging subject.</div><div class="ttdef"><b>Definition</b> <a href="ImagingSubject_8cpp_source.html#l00024">ImagingSubject.cpp:24</a></div></div>
<div class="ttc" id="aclassImagingSubject_html_aa19ba23bbf7345864a89e6e540331f9a"><div class="ttname"><a href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">ImagingSubject::getY</a></div><div class="ttdeci">double getY()</div><div class="ttdoc">Retrieves the y-coordinate of the imaging subject.</div><div class="ttdef"><b>Definition</b> <a href="ImagingSubject_8cpp_source.html#l00031">ImagingSubject.cpp:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a3f287f30315ff0c317832aa7de85b957_cgraph.png" border="0" usemap="#aclassOpticalSystem_a3f287f30315ff0c317832aa7de85b957_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ae6db07d9e1f87f8e806754e82ade380e" name="ae6db07d9e1f87f8e806754e82ade380e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6db07d9e1f87f8e806754e82ade380e">&#9670;&#160;</a></span>add() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOpticalObject.html">OpticalObject</a> &amp;&#160;</td>
          <td class="paramname"><em>OO_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>OO_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> to the system. </p>
<p>This method adds an <code><a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a></code> (like a <code><a class="el" href="classThinLens.html" title="Represents an idealized thin lens in an optical system.">ThinLens</a></code> or <code><a class="el" href="classThickLens.html" title="Represents a thick lens in an optical system.">ThickLens</a></code>) to the system, managing its memory and ensuring it's added in the correct optical order based on its x-position. It also performs checks for duplicate names and minimum distances between objects. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">OO_object</td><td>A reference to the <code><a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a></code> to be added. </td></tr>
    <tr><td class="paramname">OO_name</td><td>A unique string identifier for the optical object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If the chosen name is already taken, or if the object is too close to an existing light source or another optical object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00085">85</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>                                                               {</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.find(OO_name) != <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.end()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tThe key is taken, please chose another.&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> != <span class="keyword">nullptr</span>){</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">if</span>(abs(OO_object.<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>() - <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>()) &lt; 0.001)<span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tThe Light Source and the Optical Object are too close together. The minimum distance must be at least 0.001 mm&quot;</span>);</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_class" href="classThinLens.html">ThinLens</a>* ptr_thin = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThinLens.html">ThinLens</a>*<span class="keyword">&gt;</span>(&amp;OO_object);</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_class" href="classThickLens.html">ThickLens</a>* ptr_thick = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThickLens.html">ThickLens</a>*<span class="keyword">&gt;</span>(&amp;OO_object);</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (ptr_thin) {</div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[OO_name] = <span class="keyword">new</span> <a class="code hl_class" href="classThinLens.html">ThinLens</a>(ptr_thin-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>(),ptr_thin-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>());</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptr_thick) {</div>
<div class="line"><span class="lineno">   97</span>        <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[OO_name] = <span class="keyword">new</span> <a class="code hl_class" href="classThickLens.html">ThickLens</a>(ptr_thick-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>(),</div>
<div class="line"><span class="lineno">   98</span>                                               ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">getN</a>(),</div>
<div class="line"><span class="lineno">   99</span>                                               ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">getD</a>(),</div>
<div class="line"><span class="lineno">  100</span>                                               ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">getR_Left</a>(),</div>
<div class="line"><span class="lineno">  101</span>                                               ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">getR_Right</a>());</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">int</span> size = <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size();</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (size == 0){</div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.push_back(OO_name);</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span>    </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordtype">int</span> index = size;</div>
<div class="line"><span class="lineno">  112</span>    </div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;size; i++){</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]-&gt;getX() &gt; OO_object.<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()){</div>
<div class="line"><span class="lineno">  115</span>            index = i;</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  117</span>        }</div>
<div class="line"><span class="lineno">  118</span>    }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span>(index &gt; 0){</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">if</span>(abs(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[index-1]]-&gt;getX() - OO_object.<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()) &lt; 0.001){</div>
<div class="line"><span class="lineno">  122</span>            <span class="keyword">delete</span> <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[OO_name];</div>
<div class="line"><span class="lineno">  123</span>            <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.erase(OO_name);</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tLenses are too close together. The minimum distance must be at least 0.001 mm&quot;</span>);</div>
<div class="line"><span class="lineno">  125</span>        }</div>
<div class="line"><span class="lineno">  126</span>            </div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">if</span> (index &lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size()) {</div>
<div class="line"><span class="lineno">  129</span>        <span class="keywordflow">if</span> (abs(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[index]]-&gt;getX() - OO_object.<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()) &lt; 0.001){</div>
<div class="line"><span class="lineno">  130</span>            <span class="keyword">delete</span> <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[OO_name];</div>
<div class="line"><span class="lineno">  131</span>            <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.erase(OO_name);</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tLenses are too close together. The minimum distance must be at least 0.001 mm&quot;</span>);</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>            </div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.insert(<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.begin() + index, OO_name);</div>
<div class="line"><span class="lineno">  138</span>}</div>
<div class="ttc" id="aclassLens_html_af3493e8cb2a4eb017b3bdfde9152b5ab"><div class="ttname"><a href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">Lens::getF</a></div><div class="ttdeci">double getF()</div><div class="ttdoc">Retrieves the focal length of the lens.</div><div class="ttdef"><b>Definition</b> <a href="Lens_8cpp_source.html#l00030">Lens.cpp:30</a></div></div>
<div class="ttc" id="aclassOpticalObject_html_a7fad6a60fa013015007c19056cfd3767"><div class="ttname"><a href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">OpticalObject::getX</a></div><div class="ttdeci">double getX()</div><div class="ttdoc">Retrieves the x-coordinate (position) of the optical object.</div><div class="ttdef"><b>Definition</b> <a href="OpticalObject_8cpp_source.html#l00023">OpticalObject.cpp:23</a></div></div>
<div class="ttc" id="aclassThickLens_html_a9d718342fa5d0f0a66ebb3c59e5691d3"><div class="ttname"><a href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">ThickLens::getR_Right</a></div><div class="ttdeci">double getR_Right()</div><div class="ttdoc">Retrieves the radius of curvature of the right lens surface.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00161">ThickLens.cpp:161</a></div></div>
<div class="ttc" id="aclassThickLens_html_aacabdd54ef1dea0171e798de88ab911f"><div class="ttname"><a href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">ThickLens::getR_Left</a></div><div class="ttdeci">double getR_Left()</div><div class="ttdoc">Retrieves the radius of curvature of the left lens surface.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00141">ThickLens.cpp:141</a></div></div>
<div class="ttc" id="aclassThickLens_html_abb55b079aff86835b9b9c3cea7664cd7"><div class="ttname"><a href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">ThickLens::getD</a></div><div class="ttdeci">double getD()</div><div class="ttdoc">Retrieves the axial thickness of the lens.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00119">ThickLens.cpp:119</a></div></div>
<div class="ttc" id="aclassThickLens_html_abcfe5c76d34e74a92181a9b88df6ee76"><div class="ttname"><a href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">ThickLens::getN</a></div><div class="ttdeci">double getN()</div><div class="ttdoc">Retrieves the refractive index of the lens.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00097">ThickLens.cpp:97</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ae6db07d9e1f87f8e806754e82ade380e_cgraph.png" border="0" usemap="#aclassOpticalSystem_ae6db07d9e1f87f8e806754e82ade380e_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ae6db07d9e1f87f8e806754e82ade380e_icgraph.png" border="0" usemap="#aclassOpticalSystem_ae6db07d9e1f87f8e806754e82ade380e_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="abfa0b305c32eda9071c974bcf5413597" name="abfa0b305c32eda9071c974bcf5413597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa0b305c32eda9071c974bcf5413597">&#9670;&#160;</a></span>Calculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classImage.html">Image</a> OpticalSystem::Calculate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the final image formed by the entire optical system. </p>
<dl class="section return"><dt>Returns</dt><dd>The final <code><a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a></code> object produced by the last optical element.</dd></dl>
<p>This method simulates the path of light through the optical system, calculates the image formed by each optical object in sequence, and traces representative rays. It updates the <code>imageSequence</code> and <code>ray_coord</code> members. </p><dl class="section return"><dt>Returns</dt><dd>The final <code><a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a></code> object formed by the entire optical system. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If no <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> is present, if no <code>OpticalObjects</code> are in the system, or if the light source is positioned behind all optical objects. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00232">232</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>                              {</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tYou have to add a Light Source to the system before calling the Calculate() method.&quot;</span>);</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size() == 0) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tYou have to add Optical Objects to the system first before calling the Calculate() method.&quot;</span>);</div>
<div class="line"><span class="lineno">  235</span>    </div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].x = vector&lt;double&gt;();</div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].y = vector&lt;double&gt;();</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].x = vector&lt;double&gt;();</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].y = vector&lt;double&gt;();</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// calculate first image</span></div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.clear();</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordtype">int</span> start = 0;</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">while</span> (start &lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size()) {</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>() &gt; <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[start]]-&gt;getX())</div>
<div class="line"><span class="lineno">  247</span>            start++;</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  250</span>    }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span>(start == <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \t The Light Source is behind all the Optical Objects, nothing to calculate.&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">// initial coordinates</span></div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].x.push_back(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>());</div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].y.push_back(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].x.push_back(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>());</div>
<div class="line"><span class="lineno">  258</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].y.push_back(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="comment">// first lens</span></div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].x.push_back(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[start]]-&gt;getX());</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].y.push_back(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].x.push_back(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[start]]-&gt;getX());</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].y.push_back(0);</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_class" href="classImage.html">Image</a> img = <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[start]]-&gt;Calculate(*<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>);</div>
<div class="line"><span class="lineno">  267</span>    </div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.push_back(img);</div>
<div class="line"><span class="lineno">  269</span>    </div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = start+1; i &lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size(); i++){</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        <a class="code hl_function" href="classOpticalSystem.html#ad2f214db0296fb9db5e828ea9b29231a">NextRayCoords</a>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]], img, <span class="stringliteral">&quot;ray_1&quot;</span>);</div>
<div class="line"><span class="lineno">  273</span>        <a class="code hl_function" href="classOpticalSystem.html#ad2f214db0296fb9db5e828ea9b29231a">NextRayCoords</a>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]], img, <span class="stringliteral">&quot;ray_2&quot;</span>);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        img = <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]-&gt;Calculate(img);</div>
<div class="line"><span class="lineno">  276</span>        <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.push_back(img);</div>
<div class="line"><span class="lineno">  277</span>    }</div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// rays intersect at final image</span></div>
<div class="line"><span class="lineno">  279</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].<a class="code hl_variable" href="classImagingSubject.html#a40caa29975229d020f86e52983daa472">x</a>.push_back(img.<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>());</div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_1&quot;</span>].y.push_back(img.<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].x.push_back(img.<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>());</div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[<span class="stringliteral">&quot;ray_2&quot;</span>].y.push_back(img.<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  283</span>    </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  285</span>}</div>
<div class="ttc" id="aclassImage_html"><div class="ttname"><a href="classImage.html">Image</a></div><div class="ttdoc">Represents an image, specifically whether it's a &quot;real&quot; image.</div><div class="ttdef"><b>Definition</b> <a href="Image_8h_source.html#l00021">Image.h:21</a></div></div>
<div class="ttc" id="aclassImagingSubject_html_a40caa29975229d020f86e52983daa472"><div class="ttname"><a href="classImagingSubject.html#a40caa29975229d020f86e52983daa472">ImagingSubject::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">The x-coordinate of the imaging subject.</div><div class="ttdef"><b>Definition</b> <a href="ImagingSubject_8h_source.html#l00031">ImagingSubject.h:31</a></div></div>
<div class="ttc" id="aclassOpticalSystem_html_aa4f328a71ed2a58887b5bf6c654302a8"><div class="ttname"><a href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">OpticalSystem::ray_coord</a></div><div class="ttdeci">map&lt; string, ray &gt; ray_coord</div><div class="ttdoc">A map storing ray coordinate data, keyed by the name of the optical object.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8h_source.html#l00079">OpticalSystem.h:79</a></div></div>
<div class="ttc" id="aclassOpticalSystem_html_ad2f214db0296fb9db5e828ea9b29231a"><div class="ttname"><a href="classOpticalSystem.html#ad2f214db0296fb9db5e828ea9b29231a">OpticalSystem::NextRayCoords</a></div><div class="ttdeci">void NextRayCoords(OpticalObject *, Image, string)</div><div class="ttdoc">Calculates and stores the next ray coordinates after interaction with an optical object.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8cpp_source.html#l00416">OpticalSystem.cpp:416</a></div></div>
<div class="ttc" id="aclassOpticalSystem_html_aeab09c6404530e81a6b2cfc232e0939b"><div class="ttname"><a href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">OpticalSystem::imageSequence</a></div><div class="ttdeci">vector&lt; Image &gt; imageSequence</div><div class="ttdoc">A sequence of Image objects, representing the image formed by each optical object in order.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8h_source.html#l00059">OpticalSystem.h:59</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_abfa0b305c32eda9071c974bcf5413597_cgraph.png" border="0" usemap="#aclassOpticalSystem_abfa0b305c32eda9071c974bcf5413597_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_abfa0b305c32eda9071c974bcf5413597_icgraph.png" border="0" usemap="#aclassOpticalSystem_abfa0b305c32eda9071c974bcf5413597_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad4a7b9c8b8f54f7e402debc7b8c00790" name="ad4a7b9c8b8f54f7e402debc7b8c00790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a7b9c8b8f54f7e402debc7b8c00790">&#9670;&#160;</a></span>getImageSequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="classImage.html">Image</a> &gt; OpticalSystem::getImageSequence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the sequence of images formed by the optical objects. </p>
<dl class="section return"><dt>Returns</dt><dd>A vector of <code><a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a></code> objects, ordered by their formation in the system.</dd></dl>
<p>This method returns a copy of the sequence of images formed by the optical objects in the system. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00222">222</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>                                             {</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>;</div>
<div class="line"><span class="lineno">  224</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ad4a7b9c8b8f54f7e402debc7b8c00790_icgraph.png" border="0" usemap="#aclassOpticalSystem_ad4a7b9c8b8f54f7e402debc7b8c00790_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ac40a4866741c613a08867fd425e91e8a" name="ac40a4866741c613a08867fd425e91e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40a4866741c613a08867fd425e91e8a">&#9670;&#160;</a></span>getLightSource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLightSource.html">LightSource</a> OpticalSystem::getLightSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> currently set in the system. </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> object.</dd></dl>
<p>This method retrieves a copy of the <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> currently in the system. </p><dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> object representing the current light source. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If no <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> has been added to the system yet. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00470">470</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                                         {</div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tNo light source present.&quot;</span>);</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classLightSource.html">LightSource</a>(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>(), <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>());</div>
<div class="line"><span class="lineno">  473</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ac40a4866741c613a08867fd425e91e8a_cgraph.png" border="0" usemap="#aclassOpticalSystem_ac40a4866741c613a08867fd425e91e8a_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ac40a4866741c613a08867fd425e91e8a_icgraph.png" border="0" usemap="#aclassOpticalSystem_ac40a4866741c613a08867fd425e91e8a_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a650c19d0fc03114999586f42ba6275ae" name="a650c19d0fc03114999586f42ba6275ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a650c19d0fc03114999586f42ba6275ae">&#9670;&#160;</a></span>getRays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, <a class="el" href="structray.html">ray</a> &gt; OpticalSystem::getRays </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the stored ray coordinates for visualization. </p>
<dl class="section return"><dt>Returns</dt><dd>A map where keys are object names and values are <code>ray</code> structs.</dd></dl>
<p>This method returns a map containing the traced ray coordinates. The map keys are ray identifiers (e.g., "ray_1", "ray_2"), and the values are <code>ray</code> structs holding x and y coordinate sequences. </p><dl class="section return"><dt>Returns</dt><dd>A <code>std::map&lt;std::string, ray&gt;</code> containing the ray trace data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00437">437</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>                                       {</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>;</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a650c19d0fc03114999586f42ba6275ae_icgraph.png" border="0" usemap="#aclassOpticalSystem_a650c19d0fc03114999586f42ba6275ae_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ae816a770d4ba9db4ac7da99f77465d35" name="ae816a770d4ba9db4ac7da99f77465d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae816a770d4ba9db4ac7da99f77465d35">&#9670;&#160;</a></span>getSystemElements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, <a class="el" href="classOpticalObject.html">OpticalObject</a> * &gt; OpticalSystem::getSystemElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a map of all optical elements in the system. </p>
<dl class="section return"><dt>Returns</dt><dd>A map associating string names with pointers to <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> instances.</dd></dl>
<p>This method provides a copy of the map containing all optical elements (lenses) in the system. It performs a deep copy to ensure memory safety for the returned pointers. </p><dl class="section return"><dt>Returns</dt><dd>A <code>std::map&lt;std::string, OpticalObject*&gt;</code> where keys are object names and values are pointers to copies of the <code><a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a></code> instances. </dd></dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00446">446</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span>                                                            {</div>
<div class="line"><span class="lineno">  447</span>    std::map&lt;string, OpticalObject*&gt; copyMap;</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, objPtr] : <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>) {</div>
<div class="line"><span class="lineno">  449</span>        <a class="code hl_class" href="classThinLens.html">ThinLens</a>* ptr_thin = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThinLens.html">ThinLens</a>*<span class="keyword">&gt;</span>(objPtr);</div>
<div class="line"><span class="lineno">  450</span>        <a class="code hl_class" href="classThickLens.html">ThickLens</a>* ptr_thick = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThickLens.html">ThickLens</a>*<span class="keyword">&gt;</span>(objPtr);</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">if</span> (ptr_thin) {</div>
<div class="line"><span class="lineno">  452</span>            copyMap[key] = <span class="keyword">new</span> <a class="code hl_class" href="classThinLens.html">ThinLens</a>(ptr_thin-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>(),ptr_thin-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>());</div>
<div class="line"><span class="lineno">  453</span>        }</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptr_thick) {</div>
<div class="line"><span class="lineno">  455</span>            copyMap[key] = <span class="keyword">new</span> <a class="code hl_class" href="classThickLens.html">ThickLens</a>(ptr_thick-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>(),</div>
<div class="line"><span class="lineno">  456</span>                                         ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">getN</a>(),</div>
<div class="line"><span class="lineno">  457</span>                                         ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">getD</a>(),</div>
<div class="line"><span class="lineno">  458</span>                                         ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">getR_Left</a>(),</div>
<div class="line"><span class="lineno">  459</span>                                         ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">getR_Right</a>());</div>
<div class="line"><span class="lineno">  460</span>        }</div>
<div class="line"><span class="lineno">  461</span>    }</div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">return</span> copyMap;</div>
<div class="line"><span class="lineno">  463</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ae816a770d4ba9db4ac7da99f77465d35_cgraph.png" border="0" usemap="#aclassOpticalSystem_ae816a770d4ba9db4ac7da99f77465d35_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ae816a770d4ba9db4ac7da99f77465d35_icgraph.png" border="0" usemap="#aclassOpticalSystem_ae816a770d4ba9db4ac7da99f77465d35_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a59a82e2d49467164f4b45301dd29912c" name="a59a82e2d49467164f4b45301dd29912c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a82e2d49467164f4b45301dd29912c">&#9670;&#160;</a></span>modifyLightSource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::modifyLightSource </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies a property of the existing <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a>. </p>
<p>This method modifies a specific property (e.g., x or y coordinate) of the light source. It includes validation to ensure the light source exists and adheres to distance constraints with optical objects. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The name of the property to modify (e.g., "x" for x-coordinate, "y" for y-coordinate). </td></tr>
    <tr><td class="paramname">val</td><td>The new double value for the specified property. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If no <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code> is present in the system, if <code>param</code> is an invalid property name, or if the new position is too close to an existing optical object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00166">166</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>                                                             {</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tYou have to add a Light Source to the system before you can modify it&quot;</span>);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;x&quot;</span>){</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordtype">int</span> size = <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size();</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">if</span>(size != 0){</div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++){</div>
<div class="line"><span class="lineno">  172</span>                <span class="keywordflow">if</span>(abs(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]-&gt;getX() - val) &lt; 0.001) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tThe Light Source and the &quot;</span> + <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i] + </div>
<div class="line"><span class="lineno">  173</span>                <span class="stringliteral">&quot;are too close together. The minimum distance must be at least 0.001 mm&quot;</span>);</div>
<div class="line"><span class="lineno">  174</span>            }</div>
<div class="line"><span class="lineno">  175</span>        }</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#ad9ccc1d33c667011794be493e533590c">setX</a>(val);</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;y&quot;</span>) <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a679146ac0f0c8b763c178b0fc9c81096">setY</a>(val);</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tInvalid parameter: &quot;</span> + param);</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aclassImagingSubject_html_a679146ac0f0c8b763c178b0fc9c81096"><div class="ttname"><a href="classImagingSubject.html#a679146ac0f0c8b763c178b0fc9c81096">ImagingSubject::setY</a></div><div class="ttdeci">void setY(double)</div><div class="ttdoc">Sets the y-coordinate of the imaging subject.</div><div class="ttdef"><b>Definition</b> <a href="ImagingSubject_8cpp_source.html#l00047">ImagingSubject.cpp:47</a></div></div>
<div class="ttc" id="aclassImagingSubject_html_ad9ccc1d33c667011794be493e533590c"><div class="ttname"><a href="classImagingSubject.html#ad9ccc1d33c667011794be493e533590c">ImagingSubject::setX</a></div><div class="ttdeci">void setX(double)</div><div class="ttdoc">Sets the x-coordinate of the imaging subject.</div><div class="ttdef"><b>Definition</b> <a href="ImagingSubject_8cpp_source.html#l00039">ImagingSubject.cpp:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a59a82e2d49467164f4b45301dd29912c_cgraph.png" border="0" usemap="#aclassOpticalSystem_a59a82e2d49467164f4b45301dd29912c_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a59a82e2d49467164f4b45301dd29912c_icgraph.png" border="0" usemap="#aclassOpticalSystem_a59a82e2d49467164f4b45301dd29912c_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a2305f7a60f669b2a058f5e6ea8565186" name="a2305f7a60f669b2a058f5e6ea8565186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2305f7a60f669b2a058f5e6ea8565186">&#9670;&#160;</a></span>modifyOpticalObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::modifyOpticalObject </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies a property of an existing <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> by its name. </p>
<p>This method modifies a specific property of an existing optical object (e.g., position, focal length, refractive index). It dynamically casts the object to its specific type to call the correct setter method and handles re-insertion into the <code>order</code> vector if the position changes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string name of the optical object to modify. </td></tr>
    <tr><td class="paramname">param</td><td>The name of the property to modify (e.g., "x", "f", "n", "r_left", "r_right", "d"). </td></tr>
    <tr><td class="paramname">val</td><td>The new double value for the specified property. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If the provided <code>name</code> does not correspond to an existing optical object, or if <code>param</code> is an invalid property name for that object type. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00190">190</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>                                                                            {</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.find(name) == <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.end()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tInvalid key: &quot;</span> + name);</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_class" href="classThinLens.html">ThinLens</a>* ptr_thin = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThinLens.html">ThinLens</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[name]);</div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_class" href="classThickLens.html">ThickLens</a>* ptr_thick = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThickLens.html">ThickLens</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[name]);</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> (ptr_thin) {</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;f&quot;</span>) ptr_thin-&gt;<a class="code hl_function" href="classThinLens.html#a94d57d98f7e0d611629aeafe9d07bfea">setF</a>(val);</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;x&quot;</span>){</div>
<div class="line"><span class="lineno">  197</span>            <a class="code hl_class" href="classThinLens.html">ThinLens</a> l(val, ptr_thin-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>());</div>
<div class="line"><span class="lineno">  198</span>            <a class="code hl_function" href="classOpticalSystem.html#a91bbf09f3112a23f03655a6755a4d01d">remove</a>(name);</div>
<div class="line"><span class="lineno">  199</span>            <a class="code hl_function" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a>(l, name);</div>
<div class="line"><span class="lineno">  200</span>        }</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tInvalid parameter: &quot;</span> + param);</div>
<div class="line"><span class="lineno">  202</span>    }</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptr_thick) {</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;n&quot;</span>) ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a8a2be3707c5505e7ff4afb3063a8c2e7">setN</a>(val);</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;r_left&quot;</span>) ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a1ea8dc6de0b6dd715b184f75297ab93d">setR_Left</a>(val);</div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;r_right&quot;</span>) ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#accb3f38a9884bfd2eddca3da925c1eb9">setR_Right</a>(val);</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;d&quot;</span>) ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a5618eb214796b0b75c1edd8f0878aa44">setD</a>(val);</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(param == <span class="stringliteral">&quot;x&quot;</span>){</div>
<div class="line"><span class="lineno">  209</span>            <a class="code hl_class" href="classThickLens.html">ThickLens</a> L(val, ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">getN</a>(), ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">getD</a>(), ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">getR_Left</a>(), ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">getR_Right</a>());</div>
<div class="line"><span class="lineno">  210</span>            <a class="code hl_function" href="classOpticalSystem.html#a91bbf09f3112a23f03655a6755a4d01d">remove</a>(name);</div>
<div class="line"><span class="lineno">  211</span>            <a class="code hl_function" href="classOpticalSystem.html#ae6db07d9e1f87f8e806754e82ade380e">add</a>(L, name);</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tInvalid parameter: &quot;</span> + param);</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span>}</div>
<div class="ttc" id="aclassOpticalSystem_html_a91bbf09f3112a23f03655a6755a4d01d"><div class="ttname"><a href="classOpticalSystem.html#a91bbf09f3112a23f03655a6755a4d01d">OpticalSystem::remove</a></div><div class="ttdeci">void remove(string)</div><div class="ttdoc">Removes an optical object from the system by its name.</div><div class="ttdef"><b>Definition</b> <a href="OpticalSystem_8cpp_source.html#l00397">OpticalSystem.cpp:397</a></div></div>
<div class="ttc" id="aclassThickLens_html_a1ea8dc6de0b6dd715b184f75297ab93d"><div class="ttname"><a href="classThickLens.html#a1ea8dc6de0b6dd715b184f75297ab93d">ThickLens::setR_Left</a></div><div class="ttdeci">void setR_Left(double)</div><div class="ttdoc">Sets the radius of curvature of the left lens surface.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00150">ThickLens.cpp:150</a></div></div>
<div class="ttc" id="aclassThickLens_html_a5618eb214796b0b75c1edd8f0878aa44"><div class="ttname"><a href="classThickLens.html#a5618eb214796b0b75c1edd8f0878aa44">ThickLens::setD</a></div><div class="ttdeci">void setD(double)</div><div class="ttdoc">Sets the axial thickness of the lens.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00129">ThickLens.cpp:129</a></div></div>
<div class="ttc" id="aclassThickLens_html_a8a2be3707c5505e7ff4afb3063a8c2e7"><div class="ttname"><a href="classThickLens.html#a8a2be3707c5505e7ff4afb3063a8c2e7">ThickLens::setN</a></div><div class="ttdeci">void setN(double)</div><div class="ttdoc">Sets the refractive index of the lens.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00107">ThickLens.cpp:107</a></div></div>
<div class="ttc" id="aclassThickLens_html_accb3f38a9884bfd2eddca3da925c1eb9"><div class="ttname"><a href="classThickLens.html#accb3f38a9884bfd2eddca3da925c1eb9">ThickLens::setR_Right</a></div><div class="ttdeci">void setR_Right(double)</div><div class="ttdoc">Sets the radius of curvature of the right lens surface.</div><div class="ttdef"><b>Definition</b> <a href="ThickLens_8cpp_source.html#l00170">ThickLens.cpp:170</a></div></div>
<div class="ttc" id="aclassThinLens_html_a94d57d98f7e0d611629aeafe9d07bfea"><div class="ttname"><a href="classThinLens.html#a94d57d98f7e0d611629aeafe9d07bfea">ThinLens::setF</a></div><div class="ttdeci">void setF(double)</div><div class="ttdoc">Sets the focal length of the thin lens.</div><div class="ttdef"><b>Definition</b> <a href="ThinLens_8cpp_source.html#l00074">ThinLens.cpp:74</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a2305f7a60f669b2a058f5e6ea8565186_cgraph.png" border="0" usemap="#aclassOpticalSystem_a2305f7a60f669b2a058f5e6ea8565186_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a2305f7a60f669b2a058f5e6ea8565186_icgraph.png" border="0" usemap="#aclassOpticalSystem_a2305f7a60f669b2a058f5e6ea8565186_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad2f214db0296fb9db5e828ea9b29231a" name="ad2f214db0296fb9db5e828ea9b29231a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f214db0296fb9db5e828ea9b29231a">&#9670;&#160;</a></span>NextRayCoords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::NextRayCoords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOpticalObject.html">OpticalObject</a> *&#160;</td>
          <td class="paramname"><em>ActualLens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classImage.html">Image</a>&#160;</td>
          <td class="paramname"><em>ActualImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates and stores the next ray coordinates after interaction with an optical object. </p>
<p>This is a helper method used internally by <code><a class="el" href="classOpticalSystem.html#abfa0b305c32eda9071c974bcf5413597" title="Calculates the final image formed by the entire optical system.">Calculate()</a></code> to determine the coordinates of a ray as it passes through an optical object. It calculates the point where the ray intersects the plane of the given <code>ActualLens</code> based on the previous image formed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ActualLens</td><td>A pointer to the <code><a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a></code> (lens) that the ray is currently interacting with. </td></tr>
    <tr><td class="paramname">ActualImage</td><td>The <code><a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a></code> object formed by the <em>previous</em> optical element or the initial <code><a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a></code>. </td></tr>
    <tr><td class="paramname">which</td><td>A string identifier for the ray being traced (e.g., "ray_1", "ray_2"). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00416">416</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>                                                                                           {</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordtype">double</span> x_image = ActualImage.<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>();</div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordtype">double</span> y_image = ActualImage.<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>();</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordtype">double</span> x_ray = <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[which].x.back();</div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordtype">double</span> y_ray = <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[which].y.back();</div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordtype">double</span> x_lens = ActualLens-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>();</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordtype">double</span> a = (y_image-y_ray)/(x_image-x_ray);</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordtype">double</span> b = y_ray-a*x_ray;</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordtype">double</span> x_ray_new = x_lens;</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordtype">double</span> y_ray_new = a*x_ray_new+b;</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[which].x.push_back(x_ray_new);</div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_variable" href="classOpticalSystem.html#aa4f328a71ed2a58887b5bf6c654302a8">ray_coord</a>[which].y.push_back(y_ray_new);</div>
<div class="line"><span class="lineno">  430</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ad2f214db0296fb9db5e828ea9b29231a_cgraph.png" border="0" usemap="#aclassOpticalSystem_ad2f214db0296fb9db5e828ea9b29231a_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_ad2f214db0296fb9db5e828ea9b29231a_icgraph.png" border="0" usemap="#aclassOpticalSystem_ad2f214db0296fb9db5e828ea9b29231a_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a91bbf09f3112a23f03655a6755a4d01d" name="a91bbf09f3112a23f03655a6755a4d01d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91bbf09f3112a23f03655a6755a4d01d">&#9670;&#160;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::remove </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an optical object from the system by its name. </p>
<p>This method removes an optical object from the system by its unique name. It deallocates the memory associated with the object and removes its entry from the internal maps and order vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The string name of the optical object to be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If the provided <code>name</code> does not correspond to an existing optical object in the system. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00397">397</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  397</span>                                     {</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.find(name) == <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.end()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tInvalid key: &quot;</span> + name);</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size(); i++){</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i] == name) {</div>
<div class="line"><span class="lineno">  401</span>            <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.erase(<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.begin() + i);</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  403</span>        }</div>
<div class="line"><span class="lineno">  404</span>    }</div>
<div class="line"><span class="lineno">  405</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[name];</div>
<div class="line"><span class="lineno">  406</span>    <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>.erase(name);</div>
<div class="line"><span class="lineno">  407</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a91bbf09f3112a23f03655a6755a4d01d_icgraph.png" border="0" usemap="#aclassOpticalSystem_a91bbf09f3112a23f03655a6755a4d01d_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a0dd5b63cca2a07cd0de55802e210f343" name="a0dd5b63cca2a07cd0de55802e210f343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd5b63cca2a07cd0de55802e210f343">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::save </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the current configuration of the optical system to a file. </p>
<p>This method saves the current configuration of the optical system to a JSON file. It includes details of the light source and all added lenses (thin or thick). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>The path to the file where the system configuration will be saved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classOptiSimError.html" title="Custom exception class for handling errors within the OptiSim library.">OptiSimError</a></td><td>If no <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> is present in the system, or if the file cannot be opened for writing. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00333">333</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  333</span>                                         {</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tCannot save system: no light source present.&quot;</span>);</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_typedef" href="OpticalSystem_8cpp.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a> data;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">// Save light source (object)</span></div>
<div class="line"><span class="lineno">  339</span>    data[<span class="stringliteral">&quot;object&quot;</span>] = {</div>
<div class="line"><span class="lineno">  340</span>        {<span class="stringliteral">&quot;position&quot;</span>, <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>()},</div>
<div class="line"><span class="lineno">  341</span>        {<span class="stringliteral">&quot;size&quot;</span>, <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>()}</div>
<div class="line"><span class="lineno">  342</span>    };</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment">// Save lenses</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; name : <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>) {</div>
<div class="line"><span class="lineno">  346</span>        <a class="code hl_class" href="classOpticalObject.html">OpticalObject</a>* obj = <a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[name];</div>
<div class="line"><span class="lineno">  347</span>        <a class="code hl_class" href="classThinLens.html">ThinLens</a>* thin = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThinLens.html">ThinLens</a>*<span class="keyword">&gt;</span>(obj);</div>
<div class="line"><span class="lineno">  348</span>        <a class="code hl_class" href="classThickLens.html">ThickLens</a>* thick = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThickLens.html">ThickLens</a>*<span class="keyword">&gt;</span>(obj);</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">if</span> (thin) {</div>
<div class="line"><span class="lineno">  351</span>            data[<span class="stringliteral">&quot;lenses&quot;</span>].push_back({</div>
<div class="line"><span class="lineno">  352</span>                {<span class="stringliteral">&quot;name&quot;</span>, name},</div>
<div class="line"><span class="lineno">  353</span>                {<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;thin&quot;</span>},</div>
<div class="line"><span class="lineno">  354</span>                {<span class="stringliteral">&quot;position&quot;</span>, thin-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()},</div>
<div class="line"><span class="lineno">  355</span>                {<span class="stringliteral">&quot;focal_length&quot;</span>, thin-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>()}</div>
<div class="line"><span class="lineno">  356</span>            });</div>
<div class="line"><span class="lineno">  357</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (thick) {</div>
<div class="line"><span class="lineno">  358</span>            data[<span class="stringliteral">&quot;lenses&quot;</span>].push_back({</div>
<div class="line"><span class="lineno">  359</span>                {<span class="stringliteral">&quot;name&quot;</span>, name},</div>
<div class="line"><span class="lineno">  360</span>                {<span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;thick&quot;</span>},</div>
<div class="line"><span class="lineno">  361</span>                {<span class="stringliteral">&quot;position&quot;</span>, thick-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()},</div>
<div class="line"><span class="lineno">  362</span>                {<span class="stringliteral">&quot;radius_left&quot;</span>, thick-&gt;<a class="code hl_function" href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">getR_Left</a>()},</div>
<div class="line"><span class="lineno">  363</span>                {<span class="stringliteral">&quot;radius_right&quot;</span>, thick-&gt;<a class="code hl_function" href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">getR_Right</a>()},</div>
<div class="line"><span class="lineno">  364</span>                {<span class="stringliteral">&quot;refractive_index&quot;</span>, thick-&gt;<a class="code hl_function" href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">getN</a>()},</div>
<div class="line"><span class="lineno">  365</span>                {<span class="stringliteral">&quot;thickness&quot;</span>, thick-&gt;<a class="code hl_function" href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">getD</a>()}</div>
<div class="line"><span class="lineno">  366</span>            });</div>
<div class="line"><span class="lineno">  367</span>        }</div>
<div class="line"><span class="lineno">  368</span>    }</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">// Write to file</span></div>
<div class="line"><span class="lineno">  371</span>    ofstream file(file_name);</div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span> (!file.is_open()) <span class="keywordflow">throw</span> <a class="code hl_class" href="classOptiSimError.html">OptiSimError</a>(<span class="stringliteral">&quot;ERROR: \tFailed to open file for writing: &quot;</span> + file_name);</div>
<div class="line"><span class="lineno">  373</span>    file &lt;&lt; std::setw(2) &lt;&lt; data &lt;&lt; std::endl;  <span class="comment">// Pretty-print with indentation</span></div>
<div class="line"><span class="lineno">  374</span>    file.close();</div>
<div class="line"><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclassOpticalObject_html"><div class="ttname"><a href="classOpticalObject.html">OpticalObject</a></div><div class="ttdoc">An abstract base class for any object positioned on the optical axis.</div><div class="ttdef"><b>Definition</b> <a href="OpticalObject_8h_source.html#l00027">OpticalObject.h:27</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a0dd5b63cca2a07cd0de55802e210f343_cgraph.png" border="0" usemap="#aclassOpticalSystem_a0dd5b63cca2a07cd0de55802e210f343_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a0dd5b63cca2a07cd0de55802e210f343_icgraph.png" border="0" usemap="#aclassOpticalSystem_a0dd5b63cca2a07cd0de55802e210f343_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8a12e61ebbbb656507d8dd379f99f85e" name="a8a12e61ebbbb656507d8dd379f99f85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a12e61ebbbb656507d8dd379f99f85e">&#9670;&#160;</a></span>toString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpticalSystem::toString </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em> = <code>cout</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a string representation of the optical system to an output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>The output stream to which the system's details will be printed (defaults to <code>cout</code>).</td></tr>
  </table>
  </dd>
</dl>
<p>This method prints a formatted summary of the optical system, including details of the light source, all optical objects (thin and thick lenses), and the final calculated image (if available). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">os</td><td>The output stream to which the summary will be written. Defaults to <code>std::cout</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8cpp_source.html#l00292">292</a> of file <a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>                                       {</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>    os &lt;&lt; <span class="stringliteral">&quot;\n-------------------------------------------------------------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  295</span>    os &lt;&lt; <span class="stringliteral">&quot;#    SYSTEM SUMMARY&quot;</span>;</div>
<div class="line"><span class="lineno">  296</span>    os &lt;&lt; <span class="stringliteral">&quot;\n-------------------------------------------------------------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a> != <span class="keyword">nullptr</span>){</div>
<div class="line"><span class="lineno">  298</span>        os &lt;&lt; <span class="stringliteral">&quot;Object Position: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#a6c8e7f51ee35d067883389e9197af1c3">getX</a>() &lt;&lt; <span class="stringliteral">&quot;, Size: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#aae97ecb01648ef4aa14b483682b34f6d">LS</a>-&gt;<a class="code hl_function" href="classImagingSubject.html#aa19ba23bbf7345864a89e6e540331f9a">getY</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    }</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>.size(); i++){</div>
<div class="line"><span class="lineno">  302</span>        <a class="code hl_class" href="classThinLens.html">ThinLens</a>* ptr_thin = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThinLens.html">ThinLens</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]);</div>
<div class="line"><span class="lineno">  303</span>        <a class="code hl_class" href="classThickLens.html">ThickLens</a>* ptr_thick = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classThickLens.html">ThickLens</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classOpticalSystem.html#a4a9ff2e98b17e8364009c9fc0e1172b6">name_lens_map</a>[<a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]]);</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> (ptr_thin){</div>
<div class="line"><span class="lineno">  305</span>            os &lt;&lt; <span class="stringliteral">&quot;\nThin Lens: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]</div>
<div class="line"><span class="lineno">  306</span>                 &lt;&lt;<span class="stringliteral">&quot;,  Position: &quot;</span> &lt;&lt; ptr_thin-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()</div>
<div class="line"><span class="lineno">  307</span>                 &lt;&lt; <span class="stringliteral">&quot;, Focal Length: &quot;</span> &lt;&lt; ptr_thin-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (ptr_thick){</div>
<div class="line"><span class="lineno">  310</span>            os &lt;&lt; <span class="stringliteral">&quot;\nThick Lens: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#a3452dd947dadd7817d15e43fca3ba351">order</a>[i]</div>
<div class="line"><span class="lineno">  311</span>                 &lt;&lt; <span class="stringliteral">&quot;, Position: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classOpticalObject.html#a7fad6a60fa013015007c19056cfd3767">getX</a>()</div>
<div class="line"><span class="lineno">  312</span>                 &lt;&lt; <span class="stringliteral">&quot;, n: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abcfe5c76d34e74a92181a9b88df6ee76">getN</a>()</div>
<div class="line"><span class="lineno">  313</span>                 &lt;&lt; <span class="stringliteral">&quot;, Thickness: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#abb55b079aff86835b9b9c3cea7664cd7">getD</a>() </div>
<div class="line"><span class="lineno">  314</span>                 &lt;&lt; <span class="stringliteral">&quot;, Radius_left: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#aacabdd54ef1dea0171e798de88ab911f">getR_Left</a>()</div>
<div class="line"><span class="lineno">  315</span>                 &lt;&lt; <span class="stringliteral">&quot;, Radius_right: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classThickLens.html#a9d718342fa5d0f0a66ebb3c59e5691d3">getR_Right</a>()</div>
<div class="line"><span class="lineno">  316</span>                 &lt;&lt; <span class="stringliteral">&quot;, Focal Length: &quot;</span> &lt;&lt; ptr_thick-&gt;<a class="code hl_function" href="classLens.html#af3493e8cb2a4eb017b3bdfde9152b5ab">getF</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  317</span>        }</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.size() != 0){</div>
<div class="line"><span class="lineno">  320</span>        os &lt;&lt; <span class="stringliteral">&quot;\nImage Position: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.back().getX()</div>
<div class="line"><span class="lineno">  321</span>        &lt;&lt; <span class="stringliteral">&quot;, Size: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.back().getY()</div>
<div class="line"><span class="lineno">  322</span>        &lt;&lt; <span class="stringliteral">&quot;, Is real: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classOpticalSystem.html#aeab09c6404530e81a6b2cfc232e0939b">imageSequence</a>.back().getReal();</div>
<div class="line"><span class="lineno">  323</span>    }</div>
<div class="line"><span class="lineno">  324</span>    os &lt;&lt; <span class="stringliteral">&quot;\n-------------------------------------------------------------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  325</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a8a12e61ebbbb656507d8dd379f99f85e_cgraph.png" border="0" usemap="#aclassOpticalSystem_a8a12e61ebbbb656507d8dd379f99f85e_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classOpticalSystem_a8a12e61ebbbb656507d8dd379f99f85e_icgraph.png" border="0" usemap="#aclassOpticalSystem_a8a12e61ebbbb656507d8dd379f99f85e_icgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aeab09c6404530e81a6b2cfc232e0939b" name="aeab09c6404530e81a6b2cfc232e0939b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab09c6404530e81a6b2cfc232e0939b">&#9670;&#160;</a></span>imageSequence</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="classImage.html">Image</a>&gt; OpticalSystem::imageSequence</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A sequence of <a class="el" href="classImage.html" title="Represents an image, specifically whether it&#39;s a &quot;real&quot; image.">Image</a> objects, representing the image formed by each optical object in order. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00059">59</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>

</div>
</div>
<a id="aae97ecb01648ef4aa14b483682b34f6d" name="aae97ecb01648ef4aa14b483682b34f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae97ecb01648ef4aa14b483682b34f6d">&#9670;&#160;</a></span>LS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLightSource.html">LightSource</a>* OpticalSystem::LS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> illuminating the system. </p>
<dl class="section warning"><dt>Warning</dt><dd>The <a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a> takes ownership of this pointer; it is allocated internally or upon adding a <a class="el" href="classLightSource.html" title="Represents a light source within an optical system.">LightSource</a> and deallocated by the destructor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00054">54</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>

</div>
</div>
<a id="a4a9ff2e98b17e8364009c9fc0e1172b6" name="a4a9ff2e98b17e8364009c9fc0e1172b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9ff2e98b17e8364009c9fc0e1172b6">&#9670;&#160;</a></span>name_lens_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;string, <a class="el" href="classOpticalObject.html">OpticalObject</a>*&gt; OpticalSystem::name_lens_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map associating string names with pointers to <a class="el" href="classOpticalObject.html" title="An abstract base class for any object positioned on the optical axis.">OpticalObject</a> instances. </p>
<p>This map stores the optical objects (e.g., lenses) by a user-defined name. The <code><a class="el" href="classOpticalSystem.html" title="Manages a collection of optical elements and simulates ray propagation.">OpticalSystem</a></code> manages the memory of these objects. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00066">66</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>

</div>
</div>
<a id="a3452dd947dadd7817d15e43fca3ba351" name="a3452dd947dadd7817d15e43fca3ba351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3452dd947dadd7817d15e43fca3ba351">&#9670;&#160;</a></span>order</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;string&gt; OpticalSystem::order</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector storing the names of optical objects in the order they appear in the system. </p>
<p>This vector dictates the sequence in which light interacts with the optical objects. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00072">72</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>

</div>
</div>
<a id="aa4f328a71ed2a58887b5bf6c654302a8" name="aa4f328a71ed2a58887b5bf6c654302a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4f328a71ed2a58887b5bf6c654302a8">&#9670;&#160;</a></span>ray_coord</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;string, <a class="el" href="structray.html">ray</a>&gt; OpticalSystem::ray_coord</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map storing ray coordinate data, keyed by the name of the optical object. </p>
<p>This map holds the x and y coordinates of rays as they pass through different optical elements, useful for visualization. </p>

<p class="definition">Definition at line <a class="el" href="OpticalSystem_8h_source.html#l00079">79</a> of file <a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>OptiSim/CPP/include/<a class="el" href="OpticalSystem_8h_source.html">OpticalSystem.h</a></li>
<li>OptiSim/CPP/src/<a class="el" href="OpticalSystem_8cpp_source.html">OpticalSystem.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
